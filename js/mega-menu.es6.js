!function(){"use strict";var e,t={664:function(e,t,n){n.d(t,{j$:function(){return i}});const i={mobile:"320px","mobile-lg":"480px",tablet:"640px","mobile-menu":"699px","tablet-lg":"880px",desktop:"1024px","desktop-lg":"1200px",widescreen:"1400px"}},6675:function(e,t){t.Z=class{constructor(e,t){let{useArrowKeys:n=!0}=void 0===t?{}:t;this.menu=e,this.menuSections=[],this.openIndex=null,this.useArrowKeys=n,this.topLevelItems=Array.from(this.menu.querySelectorAll("button[aria-expanded][aria-controls]")),this.useArrowKeys&&(this.topLevelItems=[...this.topLevelItems,...Array.from(this.menu.querySelectorAll("a.js-top-level"))]),this.handleClickAnywhere=this.handleClickAnywhere.bind(this),this.handleKeydownAnywhere=this.handleKeydownAnywhere.bind(this)}toggleSection(e,t){e.hidden=!!t||!e.hidden;const n=e.querySelectorAll("button, [href], input, select, textarea, [tabindex]");n.forEach((t=>{t.tabIndex=e.hidden?-1:0})),e.hidden||n[0].focus()}toggleExpand(e,t){this.openIndex!==e&&this.toggleExpand(this.openIndex,!1),this.topLevelItems[e]&&(null===this.openIndex&&this.openMenu(),this.openIndex=t?e:null,this.topLevelItems[e].setAttribute("aria-expanded",t?"true":"false"),this.toggleSection(this.menuSections[e],!t),null===this.openIndex&&this.closeMenu())}controlFocusByKey(e,t,n){switch(e.key){case"ArrowUp":case"ArrowLeft":if(e.preventDefault(),n>-1){t[Math.max(0,n-1)].focus()}break;case"ArrowDown":case"ArrowRight":if(e.preventDefault(),n>-1){t[Math.min(t.length-1,n+1)].focus()}break;case"Home":e.preventDefault(),t[0].focus();break;case"End":e.preventDefault(),t[t.length-1].focus()}}handleSectionKeydown(e){if(null===this.openIndex||!this.useArrowKeys)return;const t=[...this.menuSections[this.openIndex].querySelectorAll("a, button")],n=t.indexOf(document.activeElement);this.controlFocusByKey(e,t,n)}handleButtonClick(e){const{currentTarget:t}=e,n=this.topLevelItems.indexOf(t);this.toggleExpand(n,"true"!==t.getAttribute("aria-expanded"))}handleButtonKeydown(e){if(!this.useArrowKeys)return;const t=this.topLevelItems.indexOf(document.activeElement);this.openIndex===t&&"ArrowDown"===e.key?(e.preventDefault(),this.menuSections[this.openIndex].querySelector("a, button").focus()):this.controlFocusByKey(e,this.topLevelItems,t)}handleLinkKeydown(e){if(!this.useArrowKeys)return;const t=this.topLevelItems.indexOf(document.activeElement);this.controlFocusByKey(e,this.topLevelItems,t)}handleCloseClick(e){e.preventDefault(),this.toggleExpand(this.openIndex,!1)}prepSection(e){const t=e.parentNode.querySelector(".c-mega-menu__section");if(!t)return;const n=t.querySelector(".c-mega-menu__section-close");this.menuSections.push(t),e.setAttribute("aria-expanded","false"),this.toggleSection(t,!0),t.addEventListener("keydown",this.handleSectionKeydown.bind(this)),e.addEventListener("click",this.handleButtonClick.bind(this)),e.addEventListener("keydown",this.handleButtonKeydown.bind(this)),n.addEventListener("click",this.handleCloseClick.bind(this))}prepLink(e){this.menuSections.push(null),e.addEventListener("keydown",this.handleLinkKeydown.bind(this))}handleClickAnywhere(e){e.target.closest(".c-mega-menu")||(this.toggleExpand(this.openIndex,!1),this.closeMenu())}handleKeydownAnywhere(e){"Escape"===e.key&&null!==this.openIndex?(this.menuSections[this.openIndex].focus(),this.toggleExpand(this.openIndex,!1),this.closeMenu()):"Tab"===e.key&&setTimeout((()=>{if(document.activeElement.classList.contains("js-top-level")){const e=this.menu.querySelector('button[aria-expanded="true"]');if(e){const t=this.topLevelItems.indexOf(e);this.toggleExpand(t,!1)}}}),0)}closeMenu(){window.removeEventListener("click",this.handleClickAnywhere),window.removeEventListener("keydown",this.handleKeydownAnywhere)}openMenu(){window.addEventListener("click",this.handleClickAnywhere),window.addEventListener("keydown",this.handleKeydownAnywhere)}init(){this.topLevelItems.forEach((e=>{"BUTTON"===e.tagName?this.prepSection(e):this.prepLink(e)}))}}},4618:function(e,t,n){var i=Drupal,o=n.n(i),s=once,r=n.n(s),l=n(6675),h=n(2830);o().behaviors.megaMenu={attach(e){r()("mega-menu",".c-mega-menu",e).forEach((t=>{new l.Z(t).init();new h.Z(t,e,{classPrefix:"c-mega-menu"}).init()}))}}}},n={};function i(e){var o=n[e];if(void 0!==o)return o.exports;var s=n[e]={exports:{}};return t[e](s,s.exports,i),s.exports}i.m=t,e=[],i.O=function(t,n,o,s){if(!n){var r=1/0;for(a=0;a<e.length;a++){n=e[a][0],o=e[a][1],s=e[a][2];for(var l=!0,h=0;h<n.length;h++)(!1&s||r>=s)&&Object.keys(i.O).every((function(e){return i.O[e](n[h])}))?n.splice(h--,1):(l=!1,s<r&&(r=s));if(l){e.splice(a--,1);var c=o();void 0!==c&&(t=c)}}return t}s=s||0;for(var a=e.length;a>0&&e[a-1][2]>s;a--)e[a]=e[a-1];e[a]=[n,o,s]},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,{a:t}),t},i.d=function(e,t){for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.j=9269,function(){var e={9269:0,7681:0};i.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,s,r=n[0],l=n[1],h=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(o in l)i.o(l,o)&&(i.m[o]=l[o]);if(h)var a=h(i)}for(t&&t(n);c<r.length;c++)s=r[c],i.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return i.O(a)},n=self.webpackChunkgesso=self.webpackChunkgesso||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var o=i.O(void 0,[9523],(function(){return i(4618)}));o=i.O(o)}();