<div class="pattern-lab-color-groups">


  {% for key, list in gesso.palette.brand %}
    {% set light = {} %}
    {% set dark = {} %}
    {% set base = {} %}

    {% for color_key, color in list %}

      {% if color_key starts with 'light' %}
        {% set light = light|merge({(color_key) : color}) %}
      {% endif %}
      {% if color_key starts with 'dark' %}
        {% set dark = dark|merge({(color_key) : color}) %}
      {% endif %}
      {% if color_key starts with 'base' %}
        {% set base = base|merge({(color_key) : color}) %}
      {% endif %}

      {% if base|length > 0 %}
        {% for base_key, base_value in base %}
          {% include '@global/_color-item.twig' with  {
								color: base_value,
                name: key ~'-'~ base_key
							} %}
        {% endfor %}
      {% endif %}

      {% if light|length > 0 %}
        {% for light_key, light_value in light %}
          {% include '@global/_color-item.twig' with  {
								color: light_value,
                name: key ~'-'~ light_key
							} %}
        {% endfor %}
      {% endif %}
      {% if dark|length > 0 %}
        {% for dark_key, dark_value in dark %}
          {% include '@global/_color-item.twig' with  {
								color: dark_value,
                 name: key ~'-'~ dark_key
							} %}
        {% endfor %}
      {% endif %}
    {% endfor %}
  {% endfor %}
</div>
